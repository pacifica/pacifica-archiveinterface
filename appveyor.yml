version: 0.1.{build}
pull_requests:
  do_not_increment_build_number: true

environment:
  matrix:
    - PYTHON: C:\Python27-x64

install:
  - '%PYTHON%\python.exe -m pip install -r requirements-dev.txt'

build: off

test_script:
  - ps: >
      mkdir C:\tmp;
      $env:PYTHON\Scripts\pre-commit.exe run -a;
      $env:PYTHON\Scripts\coverage.exe run --include='archiveinterface/*' -m pytest -v archiveinterface;
      $env:PYTHON\Scripts\coverage.exe report -m --fail-under=80;
